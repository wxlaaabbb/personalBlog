(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-554a0950"],{"8d58":function(t,e,i){"use strict";var n=i("f6c9"),a=i.n(n);a.a},b464:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wrapper"},[i("div",{staticClass:"title"},[i("h1",[t._v("发表文章")]),i("div",{staticClass:"info"},[i("label",{attrs:{for:"title"}},[i("span",[t._v("标题：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{id:"title",type:"text",placeholder:"请输入标题"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})])]),i("div",{staticClass:"info"},[i("label",{attrs:{for:"tags"}},[i("span",[t._v("标签：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.tags,expression:"tags"}],attrs:{type:"text",placeholder:"请输入标签，用逗号隔开"},domProps:{value:t.tags},on:{input:function(e){e.target.composing||(t.tags=e.target.value)}}})])]),i("div",{staticClass:"info"},[i("label",{attrs:{for:"vcode"}},[i("span",[t._v("验证码：")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.vcode,expression:"vcode"}],attrs:{id:"vcode",type:"text",placeholder:"请输入验证码"},domProps:{value:t.vcode},on:{input:function(e){e.target.composing||(t.vcode=e.target.value)}}})])]),i("div",{staticClass:"vcode"},[i("label",[i("span"),i("img",{attrs:{id:"imgCaptcha",src:t.vCodeUrl,alt:""},on:{click:t.changeVCodeUrl}})])]),i("div",{staticClass:"btn"},[i("button",{on:{click:function(e){return t.submit()}}},[t._v("提交")])])]),i("div",{ref:"editor",staticClass:"editor"})])},a=[],s=(i("96cf"),i("1da1")),o=i("1a0b"),r=i.n(o),c=i("2423"),l={data:function(){return{editorContent:"",title:null,tags:null,vCodeUrl:"/api/verificationCode",vcode:null,loading:!1}},methods:{getContent:function(){return this.editorContent},changeVCodeUrl:function(){this.vCodeUrl="/api/verificationCode?".concat((new Date).getTime())},openMessage:function(t,e){this.$message({message:e,type:t})},submit:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.title){t.next=3;break}return this.openMessage("warning","标题不能为空"),t.abrupt("return");case 3:if(this.tags){t.next=6;break}return this.openMessage("warning","标签不能为空"),t.abrupt("return");case 6:if(this.editorContent){t.next=9;break}return this.openMessage("warning","文章不能为空"),t.abrupt("return");case 9:if(this.vcode){t.next=12;break}return this.openMessage("warning","验证码不能为空"),t.abrupt("return");case 12:return e={title:this.title,tags:this.tags,content:this.getContent(),verificationCode:this.vcode},this.loading=!0,t.next=16,Object(c["a"])(e);case 16:i=t.sent,0===+i.code?(this.openMessage("success",i.msg),this.changeVCodeUrl(),this.editor.txt.html(""),this.vcode=null,this.title=null,this.tags=null):this.openMessage("error",i.msg),this.loading=!1;case 19:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this;this.editor=new r.a(this.$refs.editor),this.editor.customConfig.onchange=function(e){t.editorContent=e},this.editor.customConfig.uploadImgServer="/api/upload",this.editor.customConfig.uploadFileName="img",this.editor.customConfig.uploadImgHooks={customInsert:function(t,e){console.log(e);var i=e.data;t(i)}},this.editor.create()}},u=l,d=(i("8d58"),i("2877")),g=Object(d["a"])(u,n,a,!1,null,"7a98ca1e",null);e["default"]=g.exports},f6c9:function(t,e,i){}}]);
//# sourceMappingURL=chunk-554a0950.db5580c5.js.map